  {% include "helpers/points.html" %}
 {% extends "base.html" %}
 
 {% block header %}
   

<header class="jumbotron masthead subhead">
  <div class="container">
    <h1>Sharehouse Game</h1>
    <p class="lead">Take the pain out of sharehouse living.</p>
    <p><a href="#signup" class="btn btn-primary btn-large">&raquo; Sign up</a></p>
  </div>
</header>

{% endblock %}
 
 
 {% block content %}
   
   <div class="container">
   
<div class="modal hide fade" id="connect" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>

    <h3 id="myModalLabel">Login</h3>
  </div>

  <div class="modal-body">
    
    <ul class="nav nav-tabs" id="tabs">
      <li class="active"><a href="#facebook">Facebook</a></li>
      <li><a href="#email">Create an account</a></li>
    </ul>
 
  <div class="tab-content">
  <div class="tab-pane active" id="facebook">
   
    
    <div class="row">
      <div class="span">
        
      <strong>Connect using Facebook</strong>
         <a href="/auth/facebook" class="btn span2 offset1" style=""><img src="/img/facebook.png" /></a>
      </div>
    </div>
  </div>
  <div class="tab-pane" id="email">
    
    
    <form class="form-horizontal" id="shg-login" action="/auth/password" method="POST">
      <div class="control-group">
        <label class="control-label" for="inputEmail">Email</label>
        <div class="controls">
          <input type="text" name="email" placeholder="Email">
        </div>
      </div>
      <div class="control-group">
        <label class="control-label">Password</label>
        <div class="controls">
          <input type="password" name="password" placeholder="Password">
        </div>
      </div>
      <div class="control-group">
        <div class="controls">
          <button type="submit" class="btn btn-success">Sign up</button>
        </div>
      </div>
    </form>
  
</div>

</div>
    
  
  </div> 
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
  </div>
</div>


<div class="row">
  <div class="span7">
    <h1>Living in a sharehouse isn't easy ...</h1>
    <p class="lead">How do you decide who's turn it is to clean the microwave?</p>
    <p class="lead">... or take out the trash?</p>
    <p class="lead">... or buy milk?</p>
  </div>
</div>
<div class="row">
  <div class="span5 offset7 extra-bottom-margin">
    <h1>with a little help though ...</h1>
    <p class="lead">... like {{ points_helper.points(100) }} to do the washing up</p>
    <p class="lead">... or {{ points_helper.points(350) }} for cleaning the bathroom</p>
    <p class="lead">... or {{ points_helper.points(1000) }} for paying rent on time</p>
  </div>
</div>

<div class="row extra-bottom-margin">
  <div class="span6 offset3">
    <h1>and some really useful tools ...</h1>
    <p class="lead">... reminders for important things (like rent and inspections)</p>
    <p class="lead">... a online, shared shopping list</p>
    <p class="lead">... your own house dashboard</p>
  </div>
</div>

<div class="row extra-bottom-margin">
  <div class="span6">
    <h1>... it's a breeze!</h1>
    <p class="lead">&raquo; Make sharehouse living easy and fun</p>
    <p class="lead">&raquo; Get more time for the things that matter</p>
    <p class="lead">&raquo; <a href="#signup">Get started now!</a></p>
  </div>
</div>
<p id="signup" class="extra-bottom-margin">&nbsp</p>
<div class="hero-unit extra-bottom-margin">
  <h1>Signup</h1>
    <p>Enter your details below to begin</p>
      <hr>
    <form id="verify-details" class="form-horizontal" method="post">
	
      <div class="control-group">
	<label class="control-label">Name</label>
	<div class="controls">
	  <input type="text" class="required" name="name" placeholder="Name" value="">
	</div>
      </div>	
      <div class="control-group">
	<label class="control-label">Email</label>
	<div class="controls">
	  <input type="text" class="required email" name="email" placeholder="Email">
	  <span class="inline-help"><i rel="tooltip" title="Used for important notifications and account recovery."
					 class="tt-hover icon-black icon-info-sign"></i></span>
	</div>
      </div>
      <div class="control-group">
	<label class="control-label">Password</label>
	<div class="controls">
	  <input type="password" class="required" name="password" minlength="7" placeholder="Password">
	    <i rel="tooltip" title="You can login to Sharehouse Game using this password
            and your email address (or alternatively, your Facebook account)" class="tt-hover icon-black icon-info-sign"></i>
	</div>
      </div>
      <div class="control-group">
	<div class="controls">
	  <button type="submit" class="btn btn-large btn-primary">Sign up &raquo;</button>
	</div>
      </div>
    </form>
    <hr>
       <p>Our promise to you: we will respect your privacy; we won't share your personal information with any third parties.</p>
      <p>We're currently in beta, and we'd love to hear your <a href="mailto:feedback@sharehousegame.com">feedback and suggestions</a>.</p>
</div>

{% endblock %}


{% block javascript %}

  
<script src="js/vendor/jquery-validate/jquery.validate.min.js"></script>
<script>
  
  
  $('#tabs a').click(function (e) {
  e.preventDefault();
  $(this).tab('show');
})



$('.tt-hover').tooltip({
    placement:'right'
});

    $('#verify-details').validate({
	    errorElement: "span",
	    validClass: "success",
	    errorPlacement: function(error, element) {
		$(element).closest('.control-group').removeClass('success').addClass("error");
		$(error).appendTo( element.parent() ).addClass('inline-help');
	    },
	    success: function(label) {
		$(label).parent().closest('.control-group').removeClass('error').addClass('success');
		$(label).remove();
	    },
	    invalidHandler : function(form,validator) {
		var alert = $('<div class="alert alert-error"><button type="button" class="close" data-dismiss="alert">Ã—</button>' +
		    'Please correct the errors above.</div>').insertAfter($(this).parent()).fadeIn('slow');
		    
		setTimeout(function(){
		    $(alert).fadeOut('slow');
		},2000);
	    },
	    submitHandler: function(form) {
		post_form('/signup',form,'#verify-details');
	    }
    });
    

    


  $('#login').on('click', function(e){
      $('#connect #myModalLabel').text('Sign in:');
      $('#connect #call-to-action').text("Select the service you've registered with");
      $('#connect #privacy-blurb').hide();
      $('#connect #tabs a:last').text('Your account')
      $('#connect #shg-login button').text('Login')
      
    }
  );
  
  $('#signup').live('click',function(e){
     $('#connect #myModalLabel').text('Sign up');
     $('#connect #call-to-action').text('Use your Facebook account');
     $('#connect #privacy-blurb').show();
     $('#connect #tabs a:last').text('Create an account')
     $('#connect #shg-login button').text('Sign up')
   
    
    });
   
	
</script>

{% endblock %}


